version: 2.1

description: |
  Audit Git repositories for secrets with Gitleaks. Source:
  https://github.com/upenn-libraries/circleci_orbs

executors:
  docker:
    description:
    parameters:
      image:
        description: |
          The Gitleaks Docker image to use when auditing a repository. It is
          recommended that you publish your own image instead of trusting
          an image that you don't control.
        type: string
        default: zricethezav/gitleaks
    docker:
      - image: << parameters.image >>
